@import "tailwindcss";
@import "../styles/tokens.css";

@theme {
  --breakpoint-xs: 480px;
  
  --color-lavender: #f6e8ea;
  --color-brightpink: #ef626c;
  --color-licorice: #22181c;
  --color-jet: #312f2f;
  --color-tiffany: #84dccf;
}

@layer base {
  *,
  *::before,
  *::after {
    @apply box-border;
  }

  * {
    @apply m-0 p-0 box-border;
  }

  html {
    @apply font-sans scroll-smooth;
    font-size: 16px;
    line-height: 1.5;
  }

  body {
    @apply bg-lavender text-licorice antialiased;
    font-feature-settings: 'kern' 1, 'liga' 1, 'calt' 1, 'pnum' 1, 'tnum' 0, 'onum' 1, 'lnum' 0, 'dlig' 0;
  }

  /* Typography Scale */
  h1, .h1 {
    @apply text-4xl md:text-6xl lg:text-8xl font-bold leading-tight tracking-tight;
    margin-bottom: clamp(1rem, 4vw, 2rem);
  }

  h2, .h2 {
    @apply text-3xl md:text-5xl lg:text-6xl font-bold leading-tight tracking-tight;
    margin-bottom: clamp(0.75rem, 3vw, 1.5rem);
  }

  h3, .h3 {
    @apply text-2xl md:text-3xl lg:text-4xl font-semibold leading-snug;
    margin-bottom: clamp(0.5rem, 2vw, 1rem);
  }

  p, .body {
    @apply text-base md:text-lg leading-relaxed;
    margin-bottom: clamp(0.75rem, 2vw, 1rem);
    max-width: 65ch;
  }

  /* Section spacing */
  section {
    padding-top: clamp(4rem, 10vw, 8rem);
    padding-bottom: clamp(4rem, 10vw, 8rem);
  }

  /* Improved focus states */
  button:focus-visible,
  a:focus-visible {
    @apply outline-2 outline-offset-2 outline-tiffany;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-licorice;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-tiffany rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-brightpink;
  }

  /* Smooth animations */
  * {
    will-change: auto;
  }

  .animate-in {
    animation-fill-mode: both;
  }
}

#card-0 .card-inner {
  @apply bg-brightpink;
}

#card-1 .card-inner {
  @apply bg-tiffany;
}

#card-2 .card-inner {
  @apply bg-jet;
}

#card-3 .card-inner {
  @apply bg-licorice;
}

@keyframes blink {
  0% {
    opacity: 1;
  }
  50% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

.blink-animation {
  animation: blink 1s infinite;
}

/* Services Section Animations */
[data-services] [data-services-progress] {
  display: block;
  width: 0%;
  height: 3px;
  background: currentColor;
  opacity: .25;
  border-radius: 999px;
}

[data-services] [data-services-grid] {
  display: grid;
  grid-template-columns: 1fr;
  gap: 32px;
}

[data-services] [data-card] {
  transform: translateZ(0);
  will-change: transform, box-shadow, opacity;
}

[data-services] [data-float] {
  display: inline-block;
  will-change: transform;
}

/* Services Card Stacking - Keep it simple */
.card-inner {
  will-change: transform;
}